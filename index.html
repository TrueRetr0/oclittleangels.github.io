<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OC Little Angels - Helping Youth & Communities</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Bubblegum+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-pink: #FFB6C1;
            --primary-blue: #87CEEB;
            --primary-yellow: #FFD700;
            --primary-purple: #DDA0DD;
            --text-dark: #333;
            --white: #FFFFFF;
            --light-bg: #FFF8F3;
        }

        body {
            font-family: 'Quicksand', sans-serif;
            background: var(--light-bg);
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* Animated Background */
        .bg-animation {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.3;
            pointer-events: none;
        }

        .floating-heart {
            position: absolute;
            animation: float 20s infinite ease-in-out;
            filter: blur(3px);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            33% { transform: translateY(-30px) rotate(10deg); }
            66% { transform: translateY(20px) rotate(-10deg); }
        }

        /* Navigation */
        nav {
            background: var(--white);
            padding: 1rem 2rem;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from { transform: translateY(-100%); }
            to { transform: translateY(0); }
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .logo-section:hover {
            transform: scale(1.05);
        }

        .logo-placeholder {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-pink), var(--primary-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            box-shadow: 0 4px 15px rgba(221, 160, 221, 0.3);
            animation: glow 2s ease-in-out infinite;
            position: relative;
            overflow: hidden;
        }

        .logo-upload-hint {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary-purple);
            color: var(--white);
            padding: 0.25rem 0.5rem;
            border-radius: 10px;
            font-size: 0.7rem;
            white-space: nowrap;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .logo-section:hover .logo-upload-hint.admin-mode {
            opacity: 1;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 4px 15px rgba(221, 160, 221, 0.3); }
            50% { box-shadow: 0 4px 25px rgba(221, 160, 221, 0.6); }
        }

        .logo-text {
            font-family: 'Bubblegum Sans', cursive;
            font-size: 1.5rem;
            color: var(--primary-purple);
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-dark);
            font-weight: 600;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            background: var(--primary-pink);
            color: var(--white);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 182, 193, 0.4);
        }

        .admin-btn {
            background: var(--primary-purple);
            color: var(--white) !important;
            padding: 0.5rem 1.5rem !important;
            box-shadow: 0 4px 15px rgba(221, 160, 221, 0.3);
        }

        .admin-btn:hover {
            background: var(--primary-pink) !important;
            box-shadow: 0 5px 20px rgba(255, 182, 193, 0.5);
        }

        /* Page Sections */
        .page-section {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .page-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Hero Section */
        .hero {
            padding: 4rem 2rem;
            text-align: center;
            max-width: 1200px;
            margin: 0 auto;
        }

        .hero h1 {
            font-family: 'Bubblegum Sans', cursive;
            font-size: 4rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--primary-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
            animation: bounce 2s ease-in-out infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .hero p {
            font-size: 1.3rem;
            color: var(--text-dark);
            margin-bottom: 2rem;
            font-weight: 500;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 1rem 2rem;
            border: 2px solid transparent;
            border-radius: 30px;
            font-size: 1.3rem;
            font-weight: 600;
            font-family: 'Bubblegum Sans', cursive;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: none;
        }

        .btn-primary {
            background: var(--primary-pink);
            color: var(--white);
            box-shadow: 0 4px 15px rgba(255, 182, 193, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(255, 182, 193, 0.6);
        }

        .btn-secondary {
            background: var(--primary-blue);
            color: var(--white);
            box-shadow: 0 4px 15px rgba(135, 206, 235, 0.4);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(135, 206, 235, 0.6);
        }

        /* Cards */
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .card {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 350px;
        }

        .card-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .card-content p {
            flex: 1;
            margin-bottom: 1rem;
        }

        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--primary-pink) 0%, transparent 70%);
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }

        .card:hover::before {
            opacity: 0.1;
        }

        .card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: inline-block;
            animation: wiggle 2s ease-in-out infinite;
        }

        @keyframes wiggle {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg); }
            75% { transform: rotate(5deg); }
        }

        .card h3 {
            font-family: 'Bubblegum Sans', cursive;
            font-size: 1.8rem;
            color: var(--primary-purple);
            margin-bottom: 1rem;
        }

        .card .btn {
            align-self: flex-start;
            margin-top: auto;
        }

        /* Posts Grid */
        .posts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .post-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .post-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.15);
        }

        .post-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-pink));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            position: relative;
            overflow: hidden;
        }

        .post-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .post-content {
            padding: 1.5rem;
        }

        .post-date {
            color: #888;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .post-content h3 {
            margin-bottom: 0.75rem;
            color: var(--text-dark);
        }

        .post-content p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .post-category {
            background: var(--primary-pink);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.9rem;
            display: inline-block;
        }

        /* Modal for expanded posts */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            animation: fadeIn 0.3s ease;
        }

        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: var(--white);
            padding: 2rem;
            border-radius: 20px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 2rem;
            cursor: pointer;
            color: var(--text-dark);
            background: var(--white);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            transform: rotate(90deg);
            background: var(--primary-pink);
            color: var(--white);
        }

        .modal-image {
            width: 100%;
            max-height: 500px;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--primary-pink));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 5rem;
        }

        .modal-image img {
            width: 100%;
            height: auto;
            max-height: 500px;
            object-fit: contain;
            background: #fff;
        }

        .modal-header {
            margin-bottom: 1.5rem;
        }

        .modal-header h2 {
            font-family: 'Bubblegum Sans', cursive;
            color: var(--primary-purple);
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .modal-meta {
            display: flex;
            gap: 1rem;
            align-items: center;
            color: #666;
            font-size: 0.95rem;
        }

        .modal-body {
            line-height: 1.8;
            font-size: 1.1rem;
        }

        /* Forms */
        .form-container {
            max-width: 600px;
            margin: 2rem auto;
            padding: 2rem;
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary-purple);
        }

        input, textarea, select {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #f0f0f0;
            border-radius: 10px;
            font-family: 'Quicksand', sans-serif;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--primary-pink);
            box-shadow: 0 0 0 3px rgba(255, 182, 193, 0.2);
        }

        /* Admin Panel */
        .admin-panel {
            background: var(--white);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem auto;
            max-width: 800px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #f0f0f0;
        }

        /* Footer */
        footer {
            background: var(--primary-purple);
            color: var(--white);
            padding: 3rem 2rem 2rem;
            margin-top: 4rem;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin: 2rem 0;
        }

        .social-links a {
            color: var(--white);
            font-size: 1.5rem;
            transition: transform 0.3s ease;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .social-links a:hover {
            transform: translateY(-3px) scale(1.2);
        }

        .social-links i {
            font-size: 1.8rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }

            .nav-links {
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: center;
                gap: 0.5rem;
            }

            .nav-links a {
                padding: 0.4rem 0.8rem;
                font-size: 0.9rem;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .cards-container {
                grid-template-columns: 1fr;
                padding: 1rem;
            }

            .posts-grid {
                grid-template-columns: 1fr;
                padding: 1rem;
            }

            .cta-buttons {
                flex-direction: column;
                width: 100%;
            }

            .btn {
                width: 100%;
                text-align: center;
            }

            .form-container {
                padding: 1rem;
            }

            .modal-content {
                width: 95%;
                padding: 1.5rem;
            }

            .modal-header h2 {
                font-size: 1.8rem;
            }

            .modal-image {
                max-height: 250px;
            }

            .admin-panel {
                margin: 1rem;
                padding: 1rem;
            }

            footer {
                padding: 2rem 1rem;
            }

            .social-links {
                flex-direction: column;
                gap: 1rem;
            }
        }

        @media (max-width: 480px) {
            .hero h1 {
                font-size: 1.5rem;
            }

            .card {
                padding: 1.5rem;
            }

            .logo-text {
                font-size: 1.2rem;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 182, 193, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary-pink);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="bg-animation">
        <div class="floating-heart" style="top: 10%; left: 10%; color: var(--primary-pink); font-size: 30px;">💖</div>
        <div class="floating-heart" style="top: 60%; left: 80%; color: var(--primary-blue); font-size: 25px; animation-delay: -5s;">⭐</div>
        <div class="floating-heart" style="top: 30%; left: 60%; color: var(--primary-yellow); font-size: 35px; animation-delay: -10s;">✨</div>
        <div class="floating-heart" style="top: 80%; left: 20%; color: var(--primary-purple); font-size: 28px; animation-delay: -15s;">🌟</div>
    </div>

    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo-section" onclick="showPage('home')">
                <div class="logo-placeholder" id="logoContainer">
                    <img src="https://i.imgur.com/oko1Uux.png" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                    <div class="logo-upload-hint" id="logoHint">Click to upload logo</div>
                </div>
                <div class="logo-text">OC Little Angels</div>
            </div>
            <ul class="nav-links">
                <li><a href="#" onclick="showPage('home')">Home</a></li>
                <li><a href="#" onclick="showPage('about')">About</a></li>
                <li><a href="#" onclick="showPage('programs')">Programs</a></li>
                <li><a href="#" onclick="showPage('involved')">Get Involved</a></li>
                <li><a href="#" onclick="showPage('contact')">Contact</a></li>
                <li><a href="#" onclick="showPage('admin')" class="admin-btn">Admin</a></li>
            </ul>
        </div>
    </nav>

    <!-- Post Modal -->
    <div id="postModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">×</button>
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- Home Page -->
    <div id="home" class="page-section active" style="position: relative;">
        <!-- Hero Background - ONLY for home page, scrollable -->
    <div id="heroBackground" style="position: absolute; top: 0; left: 0; width: 100%; height: 60vh; z-index: -1; overflow: hidden; display: none;">
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.4); z-index: 2;"></div>
        <div id="heroBackgroundImage" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-size: cover; background-position: center; display: none; z-index: 1;"></div>
        <video id="heroBackgroundVideo" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; display: none; z-index: 1;" autoplay muted loop playsinline></video>
        <iframe id="heroBackgroundIframe" style="position: absolute; top: 50%; left: 50%; width: 100vw; height: 100vh; min-width: 100%; min-height: 100%; transform: translate(-50%, -50%) scale(1.5); border: none; display: none; z-index: 1; pointer-events: none;" frameborder="0"></iframe>
        <button id="heroPauseBtn" onclick="toggleHeroVideo()" style="position: fixed; bottom: 20px; right: 20px; z-index: 100; background: rgba(221, 160, 221, 0.8); color: white; border: none; padding: 10px 15px; border-radius: 25px; cursor: pointer; display: none; transition: all 0.3s ease;">
            <i class="fas fa-pause" id="heroPauseIcon"></i>
        </button>
    </div>
        <div class="hero">
            <h1>Orange County Little Angels</h1>
            <p>Orange County Little Angels aims to enrich the lives of children facing health challenges and low income communities through acts of service and recreational events in order to foster joy, empowerment and the value of each individual of our youth community.</p>
            <div class="cta-buttons">
                <button class="btn btn-primary" onclick="showPage('involved')">Join Our Mission</button>
                <button class="btn btn-secondary" onclick="showPage('programs')">Our Programs</button>
            </div>
            <!-- Staggered Blurbs Section -->
            <div class="blurbs-section">
                <div id="blurbsContainer">
                    <!-- Blurbs will be loaded here -->
                </div>
            </div>

            <div class="cards-container">
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">📚</div>
                        <h3>Book Drives</h3>
                        <p>Donating new books to Children's Hospital of Orange County, spreading joy through the power of reading and imagination.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">🎁</div>
                        <h3>Community Outreach</h3>
                        <p>Organizing donation drives and events to support families in need throughout Orange County.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="card-content">
                        <div class="card-icon">💝</div>
                        <h3>Youth Support</h3>
                        <p>Creating programs and initiatives specifically designed to help young people facing health challenges.</p>
                    </div>
                </div>
            </div>
            <!-- Current Events Section -->
            <div style="margin-top: 4rem; padding: 3rem 0; background: linear-gradient(135deg, rgba(255,182,193,0.1), rgba(135,206,235,0.1));">
                <h2 style="text-align: center; color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive; font-size: 2.5rem; margin-bottom: 2rem;">Current Events</h2>
                
                <div style="max-width: 900px; margin: 0 auto; position: relative; padding: 0 60px;">
                    <!-- Navigation Arrows -->
                    <button onclick="changeEvent('prev')" style="position: absolute; left: 0; top: 50%; transform: translateY(-50%); background: var(--primary-pink); color: white; border: none; border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='var(--primary-purple)'" onmouseout="this.style.background='var(--primary-pink)'">
                        <span style="font-size: 2rem;">‹</span>
                    </button>
                    <button onclick="changeEvent('next')" style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); background: var(--primary-pink); color: white; border: none; border-radius: 50%; width: 50px; height: 50px; cursor: pointer; z-index: 10; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='var(--primary-purple)'" onmouseout="this.style.background='var(--primary-pink)'">
                        <span style="font-size: 2rem;">›</span>
                    </button>
                    
                    <!-- Events Carousel Container -->
                    <div id="eventsCarousel" style="overflow: hidden; border-radius: 20px; background: var(--white);">
                        <div id="eventsContainer" style="display: flex; transition: transform 0.5s ease;">
                            <!-- Events will be loaded here -->
                        </div>
                    </div>
                    
                    <!-- Event Indicators -->
                    <div id="eventIndicators" style="text-align: center; margin-top: 1.5rem;">
                        <!-- Dots will be added here -->
                    </div>
                </div>
            </div>
            
            <!-- Event Modals -->
            <div id="eventImageModal" class="modal">
                <div class="modal-content" style="max-width: 90%; max-height: 90%;">
                    <button class="modal-close" onclick="closeEventImageModal()">×</button>
                    <div id="eventImageContent" style="display: flex; align-items: center; justify-content: center; min-height: 400px;">
                        <!-- Full image will be shown here -->
                    </div>
                </div>
            </div>
            
            <div id="eventDetailsModal" class="modal">
                <div class="modal-content">
                    <button class="modal-close" onclick="closeEventDetailsModal()">×</button>
                    <div id="eventDetailsContent">
                        <!-- Full event details will be shown here -->
                    </div>
                </div>
            </div>
        </div>

        <div style="max-width: 1200px; margin: 2rem auto; padding: 2rem;">
            <h2 style="text-align: center; color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive; margin-bottom: 1.5rem;">Recent Updates</h2>
            
            <div style="position: relative; max-width: 1100px; margin: 0 auto;">
                <!-- Scroll buttons -->
                <button onclick="scrollPosts('left')" style="position: absolute; left: -20px; top: 50%; transform: translateY(-50%); background: var(--primary-pink); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; z-index: 10; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='var(--primary-purple)'" onmouseout="this.style.background='var(--primary-pink)'">
                    <span style="font-size: 1.5rem;">‹</span>
                </button>
                <button onclick="scrollPosts('right')" style="position: absolute; right: -20px; top: 50%; transform: translateY(-50%); background: var(--primary-pink); color: white; border: none; border-radius: 50%; width: 40px; height: 40px; cursor: pointer; z-index: 10; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: all 0.3s ease; display: flex; align-items: center; justify-content: center;" onmouseover="this.style.background='var(--primary-purple)'" onmouseout="this.style.background='var(--primary-pink)'">
                    <span style="font-size: 1.5rem;">›</span>
                </button>
                
                <!-- Posts container with horizontal scroll -->
                <div id="postsContainer" style="display: flex; gap: 1.5rem; overflow-x: auto; scroll-behavior: smooth; padding: 1rem 3rem; scrollbar-width: none; -ms-overflow-style: none;">
                    <!-- Posts will be loaded here -->
                </div>
            </div>
        </div>
        
        <style>
            #postsContainer::-webkit-scrollbar {
                display: none;
            }
            
            #postsContainer .post-card {
                flex: 0 0 350px;
                min-width: 350px;
                max-width: 350px;
                height: 400px;
            }
            
            .post-card .post-content {
                height: 200px;
                display: flex;
                flex-direction: column;
            }
            
            .post-card .post-content p {
                flex: 1;
                overflow: hidden;
                text-overflow: ellipsis;
            }
            
            @media (max-width: 768px) {
                #postsContainer .post-card {
                    flex: 0 0 280px;
                    min-width: 280px;
                    max-width: 280px;
                }
            }

                        /* Hero text outline styles */
           /* Proper text outline for hero when background is active */
/* Thinner, cleaner text outlines for hero with background */
            .hero-with-bg h1 {
                background: linear-gradient(135deg, var(--primary-purple), var(--primary-pink)) !important;
                -webkit-background-clip: text !important;
                -webkit-text-fill-color: transparent !important;
                -webkit-text-stroke: 0.05px black;
                text-stroke: 0.05px black;
                font-size: 4rem !important;
            }
            
            .hero-with-bg p {
                color: white !important;
                text-shadow: 
                    1px 1px 2px rgba(0,0,0,0.8),
                    -1px 1px 2px rgba(0,0,0,0.8),
                    1px -1px 2px rgba(0,0,0,0.8),
                    -1px -1px 2px rgba(0,0,0,0.8);
            }
            
            .hero-with-bg .btn {
                border: 2px solid white !important;
                box-shadow: none !important;
                font-family: 'Bubblegum Sans', cursive !important;
            }
            
            /* Event card redesign */
            .event-card-new {
                position: relative;
                width: 100%;
                min-height: 400px;
                border-radius: 20px;
                overflow: hidden;
                background: var(--white);
            }
            
            .event-card-media {
                position: relative;
                width: 100%;
                height: 400px;
                overflow: hidden;
            }
            
            .event-card-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(to bottom, rgba(0,0,0,0.3), rgba(0,0,0,0.6));
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                padding: 2rem;
                text-align: center;
            }
            
            .event-card-title-new {
                font-family: 'Bubblegum Sans', cursive;
                font-size: 3rem;
                color: white;
                margin-bottom: 1rem;
                text-shadow: 
                    2px 2px 4px rgba(0, 0, 0, 0.8),
                    -2px 2px 4px rgba(0, 0, 0, 0.8),
                    2px -2px 4px rgba(0, 0, 0, 0.8),
                    -2px -2px 4px rgba(0, 0, 0, 0.8);
            }
            
            .event-card-date-new {
                font-size: 1.2rem;
                color: white;
                margin-bottom: 2rem;
                text-shadow: 
                    2px 2px 4px rgba(0, 0, 0, 0.8),
                    -2px 2px 4px rgba(0, 0, 0, 0.8),
                    2px -2px 4px rgba(0, 0, 0, 0.8),
                    -2px -2px 4px rgba(0, 0, 0, 0.8);
            }
            
            /* Staggered blurbs */
            /* Staggered blurbs in one container */
            .blurbs-section {
                max-width: 1200px;
                margin: 3rem auto;
                padding: 2rem;
            }
            
            .blurbs-container {
                background: var(--white);
                border-radius: 20px;
                padding: 2rem;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            }
            
            .blurb-item {
                display: flex;
                align-items: center;
                padding: 2rem 0;
                gap: 3rem;
                border-bottom: 1px solid #f0f0f0;
            }
            
            .blurb-item:last-child {
                border-bottom: none;
            }
            
            .blurb-item:nth-child(even) {
                flex-direction: row-reverse;
            }
            
            .blurb-image {
                flex: 0 0 250px;
                height: 180px;
                border-radius: 15px;
                overflow: hidden;
            }
            
            .blurb-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            
            .blurb-content {
                flex: 1;
            }
            
            .blurb-title {
                font-family: 'Bubblegum Sans', cursive;
                font-size: 2rem;
                color: var(--primary-purple);
                margin-bottom: 1rem;
            }
            
            @media (max-width: 768px) {
                .event-card-title-new {
                    font-size: 2rem;
                }
                
                .blurb-item,
                .blurb-item:nth-child(even) {
                    flex-direction: column;
                    padding: 1.5rem 0;
                }
                
                .blurb-image {
                    flex: none;
                    width: 100%;
                }
            }

                        /* Current Events Styles */
            .event-card {
                background: var(--white);
                border-radius: 20px !important;
                box-shadow: 0 10px 40px rgba(0,0,0,0.1);
                display: flex;
                overflow: hidden;
                cursor: pointer;
                transition: all 0.3s ease;
                min-height: 350px;
                width: 100%;
            }
            
            .event-card:hover {
                transform: scale(1.02);
                box-shadow: 0 15px 50px rgba(0,0,0,0.15);
            }
            
            .event-card-image {
                flex: 0 0 300px;
                background: linear-gradient(135deg, var(--primary-blue), var(--primary-pink));
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 3rem;
                position: relative;
                overflow: hidden;
                cursor: zoom-in;
            }
            
            .event-card-image img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            
            .event-card-image::after {
                content: 'Click to expand image...';
                position: absolute;
                top: 10px;
                left: 10px;
                background: rgba(0,0,0,0.7);
                color: white;
                padding: 5px 10px;
                border-radius: 5px;
                font-size: 0.8rem;
                opacity: 0;
                transition: opacity 0.3s ease;
            }
            
            .event-card-image:hover::after {
                opacity: 1;
            }
            
            .event-card-content {
                flex: 1;
                padding: 2rem;
                display: flex;
                flex-direction: column;
            }
            
            .event-card-title {
                font-family: 'Bubblegum Sans', cursive;
                font-size: 2rem;
                color: var(--primary-purple);
                margin-bottom: 0.5rem;
            }
            
            .event-card-date {
                color: #666;
                font-size: 1rem;
                margin-bottom: 1rem;
            }
            
            .event-card-description {
                flex: 1;
                line-height: 1.6;
                color: var(--text-dark);
                margin-bottom: 1rem;
            }
            
            .event-card-readmore {
                color: var(--primary-pink);
                font-weight: 600;
                text-decoration: none;
                display: inline-block;
                transition: all 0.3s ease;
            }
            
            .event-card-readmore:hover {
                color: var(--primary-purple);
                transform: translateX(5px);
            }
            
            .event-indicator {
                display: inline-block;
                width: 10px;
                height: 10px;
                border-radius: 50%;
                background: #ccc;
                margin: 0 5px;
                cursor: pointer;
                transition: all 0.3s ease;
            }
            
            .event-indicator.active {
                background: var(--primary-pink);
                transform: scale(1.3);
            }
            
            @media (max-width: 768px) {
                .event-card {
                    flex-direction: column;
                    min-height: auto;
                }
                
                .event-card-image {
                    flex: 0 0 200px;
                    width: 100%;
                }
            }
        </style>
        
        <script>
            function scrollPosts(direction) {
                const container = document.getElementById('postsContainer');
                const scrollAmount = 380; // Width of one card plus gap
                
                if (direction === 'left') {
                    container.scrollLeft -= scrollAmount;
                } else {
                    container.scrollLeft += scrollAmount;
                }
            }
        </script>
    </div>

    <!-- About Page -->
    <div id="about" class="page-section">
        <div class="hero">
            <h1>About OC Little Angels</h1>
            <p>Making a difference, one smile at a time</p>
        </div>

        <div class="form-container">
            <h2 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive;">Our Story</h2>
            <p style="line-height: 1.8; margin: 1rem 0;">
                Orange County Little Angels was founded by Elie Nguyen with a simple yet powerful mission: to bring hope and support to youth facing health challenges and marginalized communities throughout Orange County.
            </p>
            <p style="line-height: 1.8; margin: 1rem 0;">
                tbd. we can add a ton about the mission here and etc.
            </p>
            
            <h3 style="color: var(--primary-purple); margin-top: 2rem;">Our Founder</h3>
            <p style="line-height: 1.8; margin: 1rem 0;">
                Elie Nguyen (@eliennguyenn) started OC Little Angels with a vision to create a more compassionate and inclusive Orange County. Her dedication to serving youth and families has inspired many to join our mission.
            </p>

            <div style="background: var(--light-bg); padding: 1.5rem; border-radius: 15px; margin-top: 2rem;">
                <h3 style="color: var(--primary-pink); margin-bottom: 1rem;">Our Values</h3>
                <ul style="list-style: none; padding: 0;">
                    <li style="padding: 0.5rem 0;">💖 Compassion for all</li>
                    <li style="padding: 0.5rem 0;">🌟 Community empowerment</li>
                    <li style="padding: 0.5rem 0;">🤝 Inclusive support</li>
                    <li style="padding: 0.5rem 0;">✨ Youth-focused initiatives</li>
                </ul>
            </div>
        </div>
                <!-- Directors Section -->
        <div style="margin-top: 4rem;">
            <h2 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive; text-align: center; margin-bottom: 2rem;">Our Leadership Team</h2>
            
            <div style="display: flex; justify-content: center; align-items: flex-end; gap: 2rem; flex-wrap: wrap; margin-top: 3rem;">
                
                <!-- Left Director - Jolie -->
                <div style="background: var(--white); border-radius: 20px; padding: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 280px; margin-bottom: 0; transition: all 0.3s ease;" 
                     onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 40px rgba(0,0,0,0.15)'" 
                     onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 30px rgba(0,0,0,0.1)'">
                    <div style="text-align: center;">
                        <div style="width: 100px; height: 100px; background: linear-gradient(135deg, var(--primary-blue), var(--primary-pink)); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; font-size: 2.5rem;">
                            👩
                        </div>
                        <h3 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive; margin-bottom: 0.5rem;">Jolie Michaels</h3>
                        <p style="font-weight: 600; color: var(--primary-pink); margin-bottom: 0.5rem;">Director of TBD</p>
                        <a href="https://www.instagram.com/joliebee.17/" target="_blank" style="color: var(--primary-blue); text-decoration: none; font-size: 0.9rem;">
                            <i class="fab fa-instagram"></i> @joliebee.17
                        </a>
                    </div>
                </div>
        
                <!-- Center/Top Director - Elie (Founder) -->
                <div style="background: linear-gradient(135deg, var(--white), #FFF0F5); border-radius: 20px; padding: 2.5rem; box-shadow: 0 15px 40px rgba(221, 160, 221, 0.3); width: 300px; margin-bottom: 20px; border: 2px solid var(--primary-pink); transition: all 0.3s ease;" 
                     onmouseover="this.style.transform='translateY(-5px) scale(1.02)'; this.style.boxShadow='0 20px 50px rgba(221, 160, 221, 0.4)'" 
                     onmouseout="this.style.transform='translateY(0) scale(1)'; this.style.boxShadow='0 15px 40px rgba(221, 160, 221, 0.3)'">
                    <div style="text-align: center;">
                        <div style="width: 110px; height: 110px; background: linear-gradient(135deg, var(--primary-purple), var(--primary-pink)); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; font-size: 3rem; box-shadow: 0 5px 20px rgba(221, 160, 221, 0.4);">
                            👑
                        </div>
                        <h3 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive; font-size: 1.8rem; margin-bottom: 0.5rem;">Elie Nguyen</h3>
                        <p style="font-weight: 700; color: var(--primary-pink); margin-bottom: 0.3rem;">Founder & Executive Director</p>
                        <p style="font-weight: 600; color: var(--primary-purple); margin-bottom: 0.5rem;">Director of TBD</p>
                        <a href="https://www.instagram.com/eliennguyenn/" target="_blank" style="color: var(--primary-blue); text-decoration: none;">
                            <i class="fab fa-instagram"></i> @eliennguyenn
                        </a>
                    </div>
                </div>
        
                <!-- Right Director - Jacob -->
                <div style="background: var(--white); border-radius: 20px; padding: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 280px; margin-bottom: 0; transition: all 0.3s ease;" 
                     onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='0 15px 40px rgba(0,0,0,0.15)'" 
                     onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 30px rgba(0,0,0,0.1)'">
                    <div style="text-align: center;">
                        <div style="width: 100px; height: 100px; background: linear-gradient(135deg, var(--primary-blue), var(--primary-pink)); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; font-size: 2.5rem;">
                            👨
                        </div>
                        <h3 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive; margin-bottom: 0.5rem;">Jacob Michaels</h3>
                        <p style="font-weight: 600; color: var(--primary-pink); margin-bottom: 0.5rem;">Director of TBD</p>
                        <a href="https://www.instagram.com/jacobbtw/" target="_blank" style="color: var(--primary-blue); text-decoration: none; font-size: 0.9rem;">
                            <i class="fab fa-instagram"></i> @jacobbtw
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    

    <!-- Programs Page -->
    <div id="programs" class="page-section">
        <div class="hero">
            <h1>Our Programs</h1>
            <p>Creating positive change through action</p>
        </div>

        <div class="cards-container">
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">📖</div>
                    <h3>Book Donation Drives</h3>
                    <p>Regular book drives to collect and donate new books to Children's Hospital of Orange County (CHOC). We believe in the healing power of stories and imagination.</p>
                    <button class="btn btn-primary" onclick="showProgramDetails('book-drives')">Learn More</button>
                </div>
            </div>
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">🎒</div>
                    <h3>tbd</h3>
                    <p>tbd</p>
                    <button class="btn btn-primary" onclick="showProgramDetails('school-supplies')">Learn More</button>
                </div>
            </div>
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">🍎</div>
                    <h3>tbd</h3>
                    <p>tbd</p>
                    <button class="btn btn-primary" onclick="showProgramDetails('food-drives')">Learn More</button>
                </div>
            </div>
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">🎨</div>
                    <h3>tbd</h3>
                    <p>tbd</p>
                    <button class="btn btn-primary" onclick="showProgramDetails('art-wellness')">Learn More</button>
                </div>
            </div>
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">🏥</div>
                    <h3>tbd</h3>
                    <p>tbd</p>
                    <button class="btn btn-primary" onclick="showProgramDetails('hospital-support')">Learn More</button>
                </div>
            </div>
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">🌈</div>
                    <h3>tbd</h3>
                    <p>tbd</p>
                    <button class="btn btn-primary" onclick="showProgramDetails('special-events')">Learn More</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Get Involved Page -->
    <div id="involved" class="page-section">
        <div class="hero">
            <h1>Get Involved</h1>
            <p>Join us in making Orange County a better place for all</p>
        </div>

        <div class="form-container">
            <h2 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive; text-align: center;">Become a Little Angel</h2>
                        
            <form id="volunteerForm">
                <div class="form-group">
                    <label for="fullName">Full Name</label>
                    <input type="text" id="fullName" name="fullName" required>
                </div>
                
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <input type="email" id="email" name="email" required>
                </div>
                
                <div class="form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" id="phone" name="phone">
                </div>
                
                <div class="form-group">
                    <label for="school">School/College</label>
                    <input type="text" id="school" name="school" placeholder="Your school or college name">
                </div>
                
                <div class="form-group">
                    <label for="interest">Area of Interest</label>
                    <select id="interest" name="interest">
                        <option value="">Select an area</option>
                        <option value="book-drives">Book Drives</option>
                        <option value="food-drives">Food Drives</option>
                        <option value="events">Special Events</option>
                        <option value="admin">Administrative Support</option>
                        <option value="fundraising">Fundraising</option>
                        <option value="other">Other</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="message">Tell us about yourself</label>
                    <textarea id="message" name="message" rows="4" placeholder="Why do you want to join OC Little Angels?"></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">Submit Application</button>
            </form>
        </div>

        <div class="cards-container" style="margin-top: 3rem;">
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">🙋</div>
                    <h3>Volunteer</h3>
                    <p>Join our team of dedicated volunteers and make a direct impact in your community.</p>
                </div>
            </div>
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">💰</div>
                    <h3>Donate</h3>
                    <p>Your financial support helps us expand our programs and reach more families in need.</p>
                </div>
            </div>
            <div class="card">
                <div class="card-content">
                    <div class="card-icon">🤝</div>
                    <h3>Partner</h3>
                    <p>Partner with us as a business or organization to amplify our community impact.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Contact Page -->
    <div id="contact" class="page-section">
        <div class="hero">
            <h1>Contact Us</h1>
            <p>We'd love to hear from you!</p>
        </div>

        <div class="form-container">
            <form id="contactForm">
                <div class="form-group">
                    <label for="contactName">Your Name</label>
                    <input type="text" id="contactName" name="contactName" required>
                </div>
                
                <div class="form-group">
                    <label for="contactEmail">Email Address</label>
                    <input type="email" id="contactEmail" name="contactEmail" required>
                </div>
                
                <div class="form-group">
                    <label for="subject">Subject</label>
                    <input type="text" id="subject" name="subject" required>
                </div>
                
                <div class="form-group">
                    <label for="contactMessage">Message</label>
                    <textarea id="contactMessage" name="contactMessage" rows="6" required></textarea>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">Send Message</button>
            </form>

            <div style="margin-top: 3rem; text-align: center;">
                <h3 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive;">Connect With Us</h3>
                <p style="margin: 1rem 0;">Follow us on Instagram for updates and stories</p>
                <a href="https://www.instagram.com/oclittleangels/" target="_blank" class="btn btn-secondary">
                    @oclittleangels
                </a>
                
                <div style="margin-top: 2rem;">
                    <p><strong>Founder:</strong> Elie Nguyen</p>
                    <p><a href="https://www.instagram.com/eliennguyenn/" target="_blank" style="color: var(--primary-pink);">@eliennguyenn</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Page -->
    <div id="admin" class="page-section">
        <div class="admin-panel">
            <div id="loginSection">
                <h2 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive; text-align: center;">Admin Login</h2>
                <form id="loginForm" style="max-width: 400px; margin: 2rem auto;">
                    <div class="form-group">
                        <label for="username">Email Address</label>
                        <input type="email" id="username" name="username" placeholder="admin@oclittleangels.org" required>
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="password" id="password" name="password" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Login</button>
                </form>
            </div>

            <div id="adminDashboard" class="hidden">
                <div class="admin-header">
                    <h2 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive;">Admin Dashboard</h2>
                    <button class="btn btn-secondary" onclick="logout()">Logout</button>
                </div>

                <div style="margin-bottom: 2rem;">
                    <h3>Create New Post</h3>
                    <form id="postForm">
                        <div class="form-group">
                            <label for="postTitle">Post Title</label>
                            <input type="text" id="postTitle" name="postTitle" required>
                        </div>
                        <div class="form-group">
                            <label for="postImage">Post Image</label>
                            <input type="file" id="postImage" name="postImage" accept="image/*">
                            <div id="imagePreview" style="margin-top: 1rem;"></div>
                        </div>
                        <div class="form-group">
                            <label for="postContent">Content</label>
                            <textarea id="postContent" name="postContent" rows="6" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="postCategory">Category</label>
                            <select id="postCategory" name="postCategory">
                                <option value="update">Update</option>
                                <option value="event">Event</option>
                                <option value="donation">Donation Drive</option>
                                <option value="success">Success Story</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Publish Post</button>
                    </form>
                </div>

                <div style="margin-top: 3rem; border-top: 2px solid #f0f0f0; padding-top: 2rem;">
                <h3>Manage Current Events</h3>
                <form id="eventForm">
                    <div class="form-group">
                        <label for="eventTitle">Event Title</label>
                        <input type="text" id="eventTitle" name="eventTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="eventStartDate">Start Date</label>
                        <input type="date" id="eventStartDate" name="eventStartDate" required>
                    </div>
                    <div class="form-group">
                        <label for="eventEndDate">End Date</label>
                        <input type="date" id="eventEndDate" name="eventEndDate" required>
                    </div>
                    <div class="form-group">
                        <label for="eventImage">Event Image</label>
                        <input type="file" id="eventImage" name="eventImage" accept="image/*">
                        <div id="eventImagePreview" style="margin-top: 1rem;"></div>
                    </div>
                    <div class="form-group">
                        <label for="eventFullDescription">Full Description (shown in popup)</label>
                        <textarea id="eventFullDescription" name="eventFullDescription" rows="6" required></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Create Event</button>
                </form>
            </div>
            <!-- Hero Background Management -->
            <div style="margin-top: 3rem; border-top: 2px solid #f0f0f0; padding-top: 2rem;">
                <h3>Manage Hero Background</h3>
                <form id="heroBackgroundForm">
                    <div class="form-group">
                        <label for="heroBackgroundType">Background Type</label>
                        <select id="heroBackgroundType" name="heroBackgroundType" onchange="toggleHeroBackgroundFields()">
                            <option value="none">No Background</option>
                            <option value="image">Image</option>
                            <option value="video">Video URL</option>
                        </select>
                    </div>
                    
                    <div class="form-group" id="heroImageGroup" style="display: none;">
                        <label for="heroImage">Hero Background Image</label>
                        <input type="file" id="heroImage" accept="image/*">
                        <div id="heroImagePreview" style="margin-top: 1rem;"></div>
                    </div>
                    
                    <div class="form-group" id="heroVideoGroup" style="display: none;">
                        <label for="heroVideoUrl">Video URL (YouTube or direct MP4)</label>
                        <input type="url" id="heroVideoUrl" placeholder="https://...">
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Update Hero Background</button>
                </form>
            </div>
            
            <!-- Blurbs Management -->
            <div style="margin-top: 3rem; border-top: 2px solid #f0f0f0; padding-top: 2rem;">
                <h3>Manage Blurbs</h3>
                <form id="blurbForm">
                    <div class="form-group">
                        <label for="blurbTitle">Blurb Title</label>
                        <input type="text" id="blurbTitle" required>
                    </div>
                    <div class="form-group">
                        <label for="blurbDescription">Description</label>
                        <textarea id="blurbDescription" rows="3" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="blurbImage">Blurb Image</label>
                        <input type="file" id="blurbImage" accept="image/*">
                        <div id="blurbImagePreview" style="margin-top: 1rem;"></div>
                    </div>
                    <button type="submit" class="btn btn-primary">Add Blurb</button>
                </form>
                <div id="adminBlurbsList" style="margin-top: 2rem;"></div>
            </div>
            
            <div style="margin-top: 2rem;">
                <h3>Current Events List</h3>
                <div id="adminEventsList"></div>
            </div>

                <div>
                    <h3>Recent Posts</h3>
                    <div id="adminPostsList"></div>
                </div>

                <div style="margin-top: 3rem;">
                    <h3>Recent Contact Messages</h3>
                    <div id="adminContactsList" style="max-height: 400px; overflow-y: auto;">
                        <p style="color: #666;">Loading messages...</p>
                    </div>
                </div>

                <div style="margin-top: 3rem;">
                    <h3>Volunteer Applications</h3>
                    <div id="adminVolunteersList" style="max-height: 400px; overflow-y: auto;">
                        <p style="color: #666;">Loading applications...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <h3 style="font-family: 'Bubblegum Sans', cursive; font-size: 2rem; margin-bottom: 1rem;">OC Little Angels</h3>
            <p>Making Orange County a better place, one act of kindness at a time.</p>
            <p> Website made with ❤️ by Kiaan Iyer (@kiaanchillin) </p>
            <div class="social-links">
                <a href="https://www.instagram.com/oclittleangels/" target="_blank">
                    <i class="fab fa-instagram"></i> Instagram
                </a>
                <a href="#" onclick="showPage('contact')">
                    <i class="fas fa-envelope"></i> Contact
                </a>
                <a href="#" onclick="showPage('involved')">
                    <i class="fas fa-heart"></i> Donate
                </a>
            </div>
            <p style="margin-top: 2rem; opacity: 0.8;">© 2025 Orange County Little Angels. All rights reserved.</p>
        </div>
    </footer>

        <script>
        // ============================================
        // FIREBASE CONFIGURATION - REPLACE WITH YOUR CONFIG
        // ============================================
        const firebaseConfig = {
          apiKey: "AIzaSyCdiuEe4PDFZIMDIFp-HGP34Drfn-_tH7A",
          authDomain: "oc-little-angels.firebaseapp.com",
          projectId: "oc-little-angels",
          storageBucket: "oc-little-angels.firebasestorage.app",
          messagingSenderId: "385919057635",
          appId: "1:385919057635:web:79941a980b170ea6d5cfd6",
          measurementId: "G-1DG14BLRZ1"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        const auth = firebase.auth();
    
        // ============================================
        // AUTHENTICATION & SECURITY
        // ============================================
        let isLoggedIn = false;
        let currentUser = null;
    
        // Monitor auth state
        auth.onAuthStateChanged((user) => {
            if (user) {
                currentUser = user;
                isLoggedIn = true;
                console.log('Admin logged in:', user.email);
                document.getElementById('logoHint')?.classList.add('admin-mode');
            } else {
                currentUser = null;
                isLoggedIn = false;
                document.getElementById('logoHint')?.classList.remove('admin-mode');
            }
        });
    
        // ============================================
        // PAGE NAVIGATION
        // ============================================
        function showPage(pageId) {
            const sections = document.querySelectorAll('.page-section');
            sections.forEach(section => section.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            window.scrollTo(0, 0);
            
            // Show/hide hero background based on page
            const heroBg = document.getElementById('heroBackground');
            if (heroBg) {
                if (pageId === 'home') {
                    heroBg.style.display = 'block';
                } else {
                    heroBg.style.display = 'none';
                }
            }
        }
    
        // ============================================
        // POSTS MANAGEMENT WITH FIREBASE
        // ============================================
        let posts = [];
    
        // Load posts from Firebase
        async function loadPosts() {
            try {
                const snapshot = await db.collection('posts')
                    .orderBy('date', 'desc')
                    .limit(20)
                    .get();
                
                posts = [];
                snapshot.forEach(doc => {
                    const data = doc.data();
                    posts.push({ 
                        id: doc.id, 
                        ...data,
                        date: data.date?.toDate ? data.date.toDate() : new Date(data.date)
                    });
                });
                
                displayPosts();
                if (isLoggedIn) {
                    displayAdminPosts();
                }
            } catch (error) {
                console.error('Error loading posts:', error);
                // Initialize with sample posts if Firebase fails
                if (posts.length === 0) {
                    posts = [
                        {
                        }
                    ];
                    displayPosts();
                }
            }
        }
    
        // Display posts
        function displayPosts() {
            const container = document.getElementById('postsContainer');
            if (container) {
                container.innerHTML = posts.map(post => `
                    <div class="post-card" onclick="openPostModal('${post.id}')">
                        <div class="post-image">
                            ${post.image ? `<img src="${post.image}" alt="${post.title}">` : post.emoji || '✨'}
                        </div>
                        <div class="post-content">
                            <div class="post-date">${formatDate(post.date)}</div>
                            <h3>${post.title}</h3>
                            <p>${post.content.substring(0, 100)}...</p>
                            <span class="post-category">${post.category}</span>
                        </div>
                    </div>
                `).join('');
            }
        }
    
        // Format date helper
        function formatDate(date) {
            if (date instanceof Date) {
                return date.toLocaleDateString();
            }
            return new Date(date).toLocaleDateString();
        }
    
        // Open post modal
        function openPostModal(postId) {
            const post = posts.find(p => p.id == postId);
            if (!post) return;
    
            const modalContent = document.getElementById('modalContent');
            modalContent.innerHTML = `
                <div class="modal-image">
                    ${post.image ? `<img src="${post.image}" alt="${post.title}">` : post.emoji || '✨'}
                </div>
                <div class="modal-header">
                    <h2>${post.title}</h2>
                    <div class="modal-meta">
                        <span>${new Date(post.date).toLocaleDateString('en-US', { 
                            weekday: 'long', 
                            year: 'numeric', 
                            month: 'long', 
                            day: 'numeric' 
                        })}</span>
                        <span>•</span>
                        <span class="post-category">${post.category}</span>
                    </div>
                </div>
                <div class="modal-body">
                    <p>${post.content}</p>
                </div>
            `;
    
            document.getElementById('postModal').classList.add('active');
        }
    
        // Close modal
        function closeModal() {
            document.getElementById('postModal').classList.remove('active');
        }
    
        // Close modal when clicking outside
        document.getElementById('postModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // ============================================
// CURRENT EVENTS MANAGEMENT
// ============================================
        let currentEvents = [];
        let currentEventIndex = 0;
        
        // Load events from Firebase
// Load events from Firebase
        async function loadEvents() {
            try {
                const snapshot = await db.collection('events')
                    .orderBy('startDate', 'desc')
                    .limit(10)
                    .get();
                
                currentEvents = [];
                snapshot.forEach(doc => {
                    const data = doc.data();
                    currentEvents.push({ 
                        id: doc.id, 
                        ...data,
                        startDate: data.startDate?.toDate ? data.startDate.toDate() : new Date(data.startDate),
                        endDate: data.endDate?.toDate ? data.endDate.toDate() : new Date(data.endDate)
                    });
                });
                
                displayEvents();
                if (isLoggedIn) {
                    loadAdminEvents();
                }
            } catch (error) {
                console.error('Error loading events:', error);
                currentEvents = [];
                displayEvents();
            }
        }
        
        // Display events in carousel
// Display events in carousel
        function displayEvents() {
            const container = document.getElementById('eventsContainer');
            const indicators = document.getElementById('eventIndicators');
            
            if (!container) return;
            
            if (currentEvents.length === 0) {
                container.innerHTML = `
                    <div style="width: 100%; text-align: center; padding: 3rem;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">📅</div>
                        <h3 style="color: var(--primary-purple); font-family: 'Bubblegum Sans', cursive;">No Current Events</h3>
                        <p style="color: #666; margin-top: 0.5rem;">Check back soon for upcoming events!</p>
                    </div>
                `;
                indicators.innerHTML = '';
                return;
            }
            
            // Create new style event cards
            container.innerHTML = currentEvents.map((event, index) => {
                let mediaContent = '';
                
                if (event.backgroundVideo) {
                    const videoUrl = event.backgroundVideo;
                    if (videoUrl.includes('youtube.com') || videoUrl.includes('youtu.be')) {
                        let videoId = '';
                        if (videoUrl.includes('youtube.com')) {
                            videoId = videoUrl.split('v=')[1]?.split('&')[0];
                        } else if (videoUrl.includes('youtu.be')) {
                            videoId = videoUrl.split('youtu.be/')[1]?.split('?')[0];
                        }
                        if (videoId) {
                            mediaContent = `
                                <iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&loop=1&playlist=${videoId}&controls=0&showinfo=0&modestbranding=1&playsinline=1" 
                                        style="width: 100%; height: 100%; border: none;" 
                                        allow="autoplay" frameborder="0"></iframe>
                            `;
                        }
                    } else if (videoUrl.endsWith('.mp4')) {
                        mediaContent = `<video src="${videoUrl}" style="width: 100%; height: 100%; object-fit: cover;" autoplay muted loop playsinline></video>`;
                    }
                } else if (event.backgroundImage) {
                    mediaContent = `<div style="width: 100%; height: 100%; background: url('${event.backgroundImage}') center/cover;"></div>`;
                } else if (event.image) {
                    mediaContent = `<div style="width: 100%; height: 100%; background: url('${event.image}') center/cover;"></div>`;
                } else {
                    mediaContent = `<div style="width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary-blue), var(--primary-pink)); display: flex; align-items: center; justify-content: center; font-size: 5rem;">${event.emoji || '📅'}</div>`;
                }
                
                return `
                    <div class="event-card-new" style="min-width: 100%; margin: 0;">
                        <div class="event-card-media">
                            ${mediaContent}
                            <div class="event-card-overlay">
                                <h3 class="event-card-title-new">${event.title}</h3>
                                <div class="event-card-date-new">
                                    ${formatDate(event.startDate)} - ${formatDate(event.endDate)}
                                </div>
                                <button class="btn btn-primary" onclick="openEventDetails('${event.id}')">
                                    Click to learn more
                                </button>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            // Create indicators
            indicators.innerHTML = currentEvents.map((_, index) => 
                `<span class="event-indicator ${index === 0 ? 'active' : ''}" onclick="goToEvent(${index})"></span>`
            ).join('');
            
            currentEventIndex = 0;
        }
        
        // Change event in carousel
        function changeEvent(direction) {
            if (currentEvents.length === 0) return;
            
            if (direction === 'next') {
                currentEventIndex = (currentEventIndex + 1) % currentEvents.length;
            } else {
                currentEventIndex = (currentEventIndex - 1 + currentEvents.length) % currentEvents.length;
            }
            
            updateCarousel();
        }
        
        // Go to specific event
        function goToEvent(index) {
            currentEventIndex = index;
            updateCarousel();
        }
        
        // Update carousel position
        function updateCarousel() {
            const container = document.getElementById('eventsContainer');
            const indicators = document.querySelectorAll('.event-indicator');
            
            container.style.transform = `translateX(-${currentEventIndex * 100}%)`;
            
            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === currentEventIndex);
            });
        }
        
        // Open event image modal
        function openEventImage(eventId) {
            const event = currentEvents.find(e => e.id === eventId);
            if (!event) return;
            
            const content = document.getElementById('eventImageContent');
            content.innerHTML = event.image ? 
                `<img src="${event.image}" style="max-width: 100%; max-height: 80vh; object-fit: contain;">` :
                `<div style="font-size: 10rem;">${event.emoji || '📅'}</div>`;
            
            document.getElementById('eventImageModal').classList.add('active');
        }
        
        // Close event image modal
        function closeEventImageModal() {
            document.getElementById('eventImageModal').classList.remove('active');
        }
        
        // Open event details modal
        function openEventDetails(eventId) {
            const event = currentEvents.find(e => e.id === eventId);
            if (!event) return;
            
            const content = document.getElementById('eventDetailsContent');
            content.innerHTML = `
                <h2 style="font-family: 'Bubblegum Sans', cursive; color: var(--primary-purple); font-size: 2.5rem; margin-bottom: 1rem;">
                    ${event.title}
                </h2>
                <div style="color: #666; margin-bottom: 1.5rem;">
                    <strong>Event Duration:</strong> ${formatDate(event.startDate)} - ${formatDate(event.endDate)}
                </div>
                <div style="line-height: 1.8; margin-bottom: 2rem;">
                    ${event.description}
                </div>
                <button class="btn btn-primary" onclick="closeEventDetailsModal(); showPage('contact')">
                    Contact Us to Get Involved!
                </button>
            `;
            
            document.getElementById('eventDetailsModal').classList.add('active');
        }
        
        // Close event details modal
        function closeEventDetailsModal() {
            document.getElementById('eventDetailsModal').classList.remove('active');
        }
        
        // Initialize events on page load
        window.addEventListener('DOMContentLoaded', function() {
            loadEvents();
        });
    
        // ============================================
        // ADMIN AUTHENTICATION
        // ============================================
        
        // Secure login with Firebase Auth
        document.getElementById('loginForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            try {
                // Show loading state
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = '<span class="loading"></span> Logging in...';
                submitBtn.disabled = true;
                
                // Authenticate with Firebase
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                
                // Success
                document.getElementById('loginSection').classList.add('hidden');
                document.getElementById('adminDashboard').classList.remove('hidden');
                displayAdminPosts();
                await loadAdminContacts();
                await loadAdminVolunteers();
                await loadAdminEvents();
                alert('Login successful!');
                
            } catch (error) {
                console.error('Login error:', error);
                
                // Show user-friendly error messages
                let errorMessage = 'Login failed. Please try again.';
                if (error.code === 'auth/user-not-found') {
                    errorMessage = 'No admin account found with this email.';
                } else if (error.code === 'auth/wrong-password') {
                    errorMessage = 'Incorrect password.';
                } else if (error.code === 'auth/invalid-email') {
                    errorMessage = 'Please enter a valid email address.';
                } else if (error.code === 'auth/too-many-requests') {
                    errorMessage = 'Too many failed attempts. Please try again later.';
                }
                
                alert(errorMessage);
            } finally {
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = 'Login';
                submitBtn.disabled = false;
            }
        });
    
        // Logout function
        async function logout() {
            try {
                await auth.signOut();
                document.getElementById('loginSection').classList.remove('hidden');
                document.getElementById('adminDashboard').classList.add('hidden');
                document.getElementById('loginForm').reset();
                alert('Logged out successfully');
            } catch (error) {
                console.error('Logout error:', error);
            }
        }
    
        // ============================================
        // CREATE & MANAGE POSTS (Without Storage)
        // ============================================
    
        // Image preview
        document.getElementById('postImage')?.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 1048576) { // 1MB limit for base64
                    alert('Image size must be less than 1MB');
                    this.value = '';
                    return;
                }
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('imagePreview').innerHTML = 
                        `<img src="${e.target.result}" style="max-width: 200px; border-radius: 10px;">`;
                };
                reader.readAsDataURL(file);
            }
        });
    
        // Create post with Firebase (storing image as base64)
        document.getElementById('postForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!isLoggedIn) {
                alert('Please login first');
                return;
            }
            
            try {
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = '<span class="loading"></span> Publishing...';
                submitBtn.disabled = true;
                
                let imageData = null;
                const imageFile = document.getElementById('postImage').files[0];
                
                // Convert image to base64 if provided
                if (imageFile) {
                    const reader = new FileReader();
                    imageData = await new Promise((resolve) => {
                        reader.onload = (e) => resolve(e.target.result);
                        reader.readAsDataURL(imageFile);
                    });
                }
                
                // Create post object
                const newPost = {
                    title: document.getElementById('postTitle').value,
                    content: document.getElementById('postContent').value,
                    category: document.getElementById('postCategory').value,
                    date: firebase.firestore.FieldValue.serverTimestamp(),
                    emoji: getCategoryEmoji(document.getElementById('postCategory').value),
                    image: imageData,
                    author: currentUser.email
                };
                
                // Save to Firestore
                await db.collection('posts').add(newPost);
                
                alert('Post published successfully!');
                document.getElementById('postForm').reset();
                document.getElementById('imagePreview').innerHTML = '';
                
                // Reload posts
                await loadPosts();
                await loadAdminEvents();
                
            } catch (error) {
                console.error('Error creating post:', error);
                alert('Failed to publish post. Please try again.');
            } finally {
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = 'Publish Post';
                submitBtn.disabled = false;
            }
        });
    
        // Display admin posts
        function displayAdminPosts() {
            const container = document.getElementById('adminPostsList');
            if (container && isLoggedIn) {
                container.innerHTML = posts.map(post => `
                    <div class="card" style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: start;">
                            <div style="flex: 1;">
                                <h4>${post.title}</h4>
                                <p style="color: #666; font-size: 0.9rem;">${formatDate(post.date)}</p>
                                <p>${post.content.substring(0, 100)}...</p>
                            </div>
                            <button class="btn btn-secondary" onclick="deletePost('${post.id}')" style="padding: 0.5rem 1rem;">Delete</button>
                        </div>
                    </div>
                `).join('');
            }
        }
    
        // Delete post from Firebase
        async function deletePost(id) {
            if (!isLoggedIn) {
                alert('Please login first');
                return;
            }
            
            if (confirm('Are you sure you want to delete this post?')) {
                try {
                    await db.collection('posts').doc(id).delete();
                    await loadPosts();
                    alert('Post deleted successfully');
                } catch (error) {
                    console.error('Error deleting post:', error);
                    alert('Failed to delete post');
                }
            }
        }
    
        function getCategoryEmoji(category) {
            const emojis = {
                'update': '📢',
                'event': '🎉',
                'donation': '🎁',
                'success': '🌟'
            };
            return emojis[category] || '✨';
        }

                // Hero Background Management
        function toggleHeroBackgroundFields() {
            const type = document.getElementById('heroBackgroundType').value;
            document.getElementById('heroImageGroup').style.display = type === 'image' ? 'block' : 'none';
            document.getElementById('heroVideoGroup').style.display = type === 'video' ? 'block' : 'none';
        }
        
        function toggleHeroVideo() {
            const video = document.getElementById('heroBackgroundVideo');
            const icon = document.getElementById('heroPauseIcon');
            
            if (video.paused) {
                video.play();
                icon.className = 'fas fa-pause';
            } else {
                video.pause();
                icon.className = 'fas fa-play';
            }
        }
        
        // Load hero background
        async function loadHeroBackground() {
            try {
                const doc = await db.collection('admin').doc('heroBackground').get();
                if (doc.exists) {
                    const data = doc.data();
                    const bgImage = document.getElementById('heroBackgroundImage');
                    const bgVideo = document.getElementById('heroBackgroundVideo');
                    const bgIframe = document.getElementById('heroBackgroundIframe');
                    const pauseBtn = document.getElementById('heroPauseBtn');
                    const hero = document.querySelector('.hero');
                    
                    if (data.type === 'image' && data.imageUrl) {
                        bgImage.style.backgroundImage = `url(${data.imageUrl})`;
                        bgImage.style.display = 'block';
                        bgVideo.style.display = 'none';
                        bgIframe.style.display = 'none';
                        pauseBtn.style.display = 'none';
                        hero.classList.add('hero-with-bg');
                    } else if (data.type === 'video' && data.videoUrl) {
                        const url = data.videoUrl;
                        hero.classList.add('hero-with-bg');
                        
                        if (url.includes('youtube.com') || url.includes('youtu.be')) {
                            let videoId = '';
                            if (url.includes('youtube.com')) {
                                videoId = url.split('v=')[1]?.split('&')[0];
                            } else if (url.includes('youtu.be')) {
                                videoId = url.split('youtu.be/')[1]?.split('?')[0];
                            }
                            
                            if (videoId) {
                                bgIframe.src = `https://www.youtube.com/embed/${videoId}?autoplay=1&mute=1&loop=1&playlist=${videoId}&controls=0&showinfo=0&modestbranding=1&iv_load_policy=3&rel=0&playsinline=1`;
                                bgIframe.style.display = 'block';
                                bgVideo.style.display = 'none';
                                bgImage.style.display = 'none';
                                pauseBtn.style.display = 'none';
                            }
                        } else if (url.endsWith('.mp4') || url.endsWith('.webm')) {
                            bgVideo.src = url;
                            bgVideo.style.display = 'block';
                            bgImage.style.display = 'none';
                            bgIframe.style.display = 'none';
                            pauseBtn.style.display = 'block';
                        }
                    } else {
                        hero.classList.remove('hero-with-bg');
                    }
                    
                    // Show background only on home page
                    const heroBg = document.getElementById('heroBackground');
                    if (heroBg && document.getElementById('home').classList.contains('active')) {
                        heroBg.style.display = 'block';
                    }
                }
            } catch (error) {
                console.error('Error loading hero background:', error);
            }
        }
        
        // Hero background form submission
        document.getElementById('heroBackgroundForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!isLoggedIn) {
                alert('Please login first');
                return;
            }
            
            try {
                const type = document.getElementById('heroBackgroundType').value;
                let backgroundData = { type: type };
                
                if (type === 'image') {
                    const file = document.getElementById('heroImage').files[0];
                    if (file) {
                        if (file.size > 1048576) {
                            alert('Image must be less than 1MB');
                            return;
                        }
                        const reader = new FileReader();
                        const imageData = await new Promise((resolve) => {
                            reader.onload = (e) => resolve(e.target.result);
                            reader.readAsDataURL(file);
                        });
                        backgroundData.imageUrl = imageData;
                    }
                } else if (type === 'video') {
                    backgroundData.videoUrl = document.getElementById('heroVideoUrl').value;
                }
                
                await db.collection('admin').doc('heroBackground').set(backgroundData);
                alert('Hero background updated!');
                await loadHeroBackground();
                
            } catch (error) {
                console.error('Error updating hero background:', error);
                alert('Failed to update hero background');
            }
        });
        
        // Blurbs Management
        let blurbs = [];
        
        async function loadBlurbs() {
            try {
                const snapshot = await db.collection('blurbs')
                    .orderBy('order', 'asc')
                    .limit(6)
                    .get();
                
                blurbs = [];
                snapshot.forEach(doc => {
                    blurbs.push({ id: doc.id, ...doc.data() });
                });
                
                displayBlurbs();
                if (isLoggedIn) {
                    displayAdminBlurbs();
                }
            } catch (error) {
                console.error('Error loading blurbs:', error);
            }
        }
        
        function displayBlurbs() {
            const container = document.getElementById('blurbsContainer');
            if (!container) return;
            
            if (blurbs.length === 0) return;
            
            container.innerHTML = `
                <div class="blurbs-container">
                    ${blurbs.map((blurb, index) => `
                        <div class="blurb-item">
                            <div class="blurb-image">
                                ${blurb.image ? 
                                    `<img src="${blurb.image}" alt="${blurb.title}">` : 
                                    `<div style="width: 100%; height: 100%; background: linear-gradient(135deg, var(--primary-pink), var(--primary-purple)); display: flex; align-items: center; justify-content: center; font-size: 3rem;">✨</div>`
                                }
                            </div>
                            <div class="blurb-content">
                                <h3 class="blurb-title">${blurb.title}</h3>
                                <p>${blurb.description}</p>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }
        
        function displayAdminBlurbs() {
            const container = document.getElementById('adminBlurbsList');
            if (!container || !isLoggedIn) return;
            
            container.innerHTML = blurbs.map(blurb => `
                <div class="card" style="margin-bottom: 1rem;">
                    <h4>${blurb.title}</h4>
                    <p>${blurb.description.substring(0, 100)}...</p>
                    <button class="btn btn-secondary" onclick="deleteBlurb('${blurb.id}')" style="padding: 0.5rem 1rem;">Delete</button>
                </div>
            `).join('');
        }
        
        // Blurb form submission
        document.getElementById('blurbForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!isLoggedIn) {
                alert('Please login first');
                return;
            }
            
            try {
                let imageData = null;
                const imageFile = document.getElementById('blurbImage').files[0];
                
                if (imageFile) {
                    if (imageFile.size > 1048576) {
                        alert('Image must be less than 1MB');
                        return;
                    }
                    const reader = new FileReader();
                    imageData = await new Promise((resolve) => {
                        reader.onload = (e) => resolve(e.target.result);
                        reader.readAsDataURL(imageFile);
                    });
                }
                
                const newBlurb = {
                    title: document.getElementById('blurbTitle').value,
                    description: document.getElementById('blurbDescription').value,
                    image: imageData,
                    order: blurbs.length,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp()
                };
                
                await db.collection('blurbs').add(newBlurb);
                alert('Blurb added successfully!');
                this.reset();
                await loadBlurbs();
                
            } catch (error) {
                console.error('Error adding blurb:', error);
                alert('Failed to add blurb');
            }
        });
        
        async function deleteBlurb(id) {
            if (!isLoggedIn) return;
            
            if (confirm('Delete this blurb?')) {
                try {
                    await db.collection('blurbs').doc(id).delete();
                    await loadBlurbs();
                    alert('Blurb deleted');
                } catch (error) {
                    console.error('Error deleting blurb:', error);
                }
            }
        }

        // ============================================
// EVENT FORM SUBMISSION
// ============================================
        document.getElementById('eventForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!isLoggedIn) {
                alert('Please login first');
                return;
            }
            
            try {
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = '<span class="loading"></span> Creating Event...';
                submitBtn.disabled = true;
                
                let imageData = null;
                let backgroundImageData = null;
                const imageFile = document.getElementById('eventImage').files[0];
                const backgroundImageFile = document.getElementById('eventBackgroundImage').files[0];
                const backgroundType = document.getElementById('eventBackgroundType').value;
                
                // Convert event image to base64 if provided
                if (imageFile) {
                    if (imageFile.size > 1048576) {
                        alert('Image size must be less than 1MB');
                        return;
                    }
                    const reader = new FileReader();
                    imageData = await new Promise((resolve) => {
                        reader.onload = (e) => resolve(e.target.result);
                        reader.readAsDataURL(imageFile);
                    });
                }
                
                // Convert background image to base64 if provided
                if (backgroundType === 'image' && backgroundImageFile) {
                    if (backgroundImageFile.size > 1048576) {
                        alert('Background image size must be less than 1MB');
                        return;
                    }
                    const reader = new FileReader();
                    backgroundImageData = await new Promise((resolve) => {
                        reader.onload = (e) => resolve(e.target.result);
                        reader.readAsDataURL(backgroundImageFile);
                    });
                }
                
                // Create event object
                const newEvent = {
                    title: document.getElementById('eventTitle').value,
                    startDate: firebase.firestore.Timestamp.fromDate(new Date(document.getElementById('eventStartDate').value)),
                    endDate: firebase.firestore.Timestamp.fromDate(new Date(document.getElementById('eventEndDate').value)),
                    description: document.getElementById('eventFullDescription').value,
                    image: imageData,
                    backgroundType: backgroundType,
                    backgroundImage: backgroundType === 'image' ? backgroundImageData : null,
                    backgroundVideo: backgroundType === 'video' ? document.getElementById('eventBackgroundVideo').value : null,
                    emoji: '📅',
                    active: true,
                    createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                    author: currentUser.email
                };
                
                // Save to Firestore
                await db.collection('events').add(newEvent);
                
                alert('Event created successfully!');
                document.getElementById('eventForm').reset();
                document.getElementById('eventImagePreview').innerHTML = '';

                
                // Reload events
                await loadEvents();
                await loadAdminEvents();
                
            } catch (error) {
                console.error('Error creating event:', error);
                alert('Failed to create event. Please try again.');
            } finally {
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = 'Create Event';
                submitBtn.disabled = false;
            }
        });

        //FIXXXXXX
// Event image preview
        document.getElementById('eventImage')?.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                if (file.size > 1048576) { // 1MB limit
                    alert('Image size must be less than 1MB');
                    this.value = '';
                    return;
                }
                const reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('eventImagePreview').innerHTML = 
                        `<img src="${e.target.result}" style="max-width: 200px; border-radius: 10px;">`;
                };
                reader.readAsDataURL(file);
            }
        });
        
        // Load events for admin panel
        async function loadAdminEvents() {
            if (!isLoggedIn) return;
            
            try {
                const snapshot = await db.collection('events')
                    .orderBy('startDate', 'desc')
                    .limit(20)
                    .get();
                
                const container = document.getElementById('adminEventsList');
                if (!container) return;
                
                if (snapshot.empty) {
                    container.innerHTML = '<p style="color: #666;">No events yet.</p>';
                    return;
                }
                
                let html = '';
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const startDate = data.startDate?.toDate ? data.startDate.toDate() : new Date();
                    const endDate = data.endDate?.toDate ? data.endDate.toDate() : new Date();
                    html += `
                        <div class="card" style="margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: start;">
                                <div style="flex: 1;">
                                    <h4>${data.title}</h4>
                                    <p style="color: #666; font-size: 0.9rem;">
                                        ${formatDate(startDate)} - ${formatDate(endDate)}
                                    </p>
                                    <p>${data.description ? data.description.substring(0, 100) + '...' : ''}</p>
                                </div>
                                <button class="btn btn-secondary" onclick="deleteEvent('${doc.id}')" style="padding: 0.5rem 1rem;">Delete</button>
                            </div>
                        </div>
                    `;
                });
                container.innerHTML = html;
            } catch (error) {
                console.error('Error loading admin events:', error);
                container.innerHTML = '<p style="color: #666;">Error loading events.</p>';
            }
        }
        
        // Delete event
        async function deleteEvent(id) {
            if (!isLoggedIn) {
                alert('Please login first');
                return;
            }
            
            if (confirm('Are you sure you want to delete this event?')) {
                try {
                    await db.collection('events').doc(id).delete();
                    await loadEvents();
                    await loadAdminEvents();
                    alert('Event deleted successfully');
                } catch (error) {
                    console.error('Error deleting event:', error);
                    alert('Failed to delete event');
                }
            }
        }
    
        // ============================================
        // CONTACT FORM - SAVES TO FIREBASE
        // ============================================
        document.getElementById('contactForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            try {
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = '<span class="loading"></span> Sending...';
                submitBtn.disabled = true;
                
                const contactData = {
                    name: document.getElementById('contactName').value,
                    email: document.getElementById('contactEmail').value,
                    subject: document.getElementById('subject').value,
                    message: document.getElementById('contactMessage').value,
                    date: firebase.firestore.FieldValue.serverTimestamp(),
                    status: 'unread'
                };
                
                // Save to Firestore
                await db.collection('contacts').add(contactData);
                
                alert('Thank you for your message! We will get back to you within 24-48 hours.');
                this.reset();
                
            } catch (error) {
                console.error('Error submitting contact form:', error);
                alert('Failed to send message. Please try again or email us directly.');
            } finally {
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = 'Send Message';
                submitBtn.disabled = false;
            }
        });
    
        // ============================================
        // VOLUNTEER FORM - SAVES TO FIREBASE
        // ============================================
        document.getElementById('volunteerForm')?.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('button[type="submit"]');
            submitBtn.innerHTML = '<span class="loading"></span> Submitting...';
            submitBtn.disabled = true;
            
            try {
                const formData = {
                    fullName: document.getElementById('fullName').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value,
                    school: document.getElementById('school').value || 'Not provided',
                    interest: document.getElementById('interest').value,
                    message: document.getElementById('message').value
                };
                
                // Save to Firebase
                await db.collection('volunteers').add({
                    ...formData,
                    date: firebase.firestore.FieldValue.serverTimestamp(),
                    status: 'approved'
                });
                
                // Send to Google Sheets using fetch with no-cors
                const GOOGLE_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbyP-q5ARy_zsj__dbT1rcaaEuLIliFhjlEvwp71lqWfMi71c1lgUYvpo74j1d5bmHtC/exec'; // <-- PASTE YOUR URL HERE
                
                fetch(GOOGLE_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors', // This bypasses CORS but you won't see the response
                    body: JSON.stringify(formData)
                }).catch(err => console.log('Sheet update attempted'));
                
                alert('Welcome to OC Little Angels! You are now part of our volunteer team. We will contact you soon with upcoming opportunities!');
                this.reset();
                
            } catch (error) {
                console.error('Error:', error);
                alert('Application submitted! Welcome to the team!');
                this.reset();
            } finally {
                submitBtn.innerHTML = 'Submit Application';
                submitBtn.disabled = false;
            }
        });
        // ============================================
        // ADMIN DASHBOARD FUNCTIONS
        // ============================================
        
        // Load contact messages for admin
        async function loadAdminContacts() {
            if (!isLoggedIn) return;
            
            try {
                const snapshot = await db.collection('contacts')
                    .orderBy('date', 'desc')
                    .limit(10)
                    .get();
                
                const container = document.getElementById('adminContactsList');
                if (!container) return;
                
                if (snapshot.empty) {
                    container.innerHTML = '<p style="color: #666;">No messages yet.</p>';
                    return;
                }
                
                let html = '';
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const date = data.date?.toDate ? data.date.toDate() : new Date();
                    html += `
                        <div class="card" style="margin-bottom: 1rem; ${data.status === 'unread' ? 'border-left: 4px solid var(--primary-pink);' : ''}">
                            <h4>${data.subject}</h4>
                            <p style="color: #666; font-size: 0.9rem;">
                                From: ${data.name} (${data.email}) • ${formatDate(date)}
                            </p>
                            <p>${data.message}</p>
                            ${data.status === 'unread' ? 
                                `<button class="btn btn-secondary" onclick="markAsRead('contacts', '${doc.id}')" style="padding: 0.3rem 0.8rem; font-size: 0.9rem;">Mark as Read</button>` : 
                                '<span style="color: #888; font-size: 0.9rem;">✓ Read</span>'
                            }
                        </div>
                    `;
                });
                container.innerHTML = html;
            } catch (error) {
                console.error('Error loading contacts:', error);
            }
        }
    
        // Load volunteer applications for admin
        async function loadAdminVolunteers() {
            if (!isLoggedIn) return;
            
            try {
                const snapshot = await db.collection('volunteers')
                    .orderBy('date', 'desc')
                    .limit(10)
                    .get();
                
                const container = document.getElementById('adminVolunteersList');
                if (!container) return;
                
                if (snapshot.empty) {
                    container.innerHTML = '<p style="color: #666;">No applications yet.</p>';
                    return;
                }
                
                let html = '';
                snapshot.forEach(doc => {
                    const data = doc.data();
                    const date = data.date?.toDate ? data.date.toDate() : new Date();
                    html += `
                        <div class="card" style="margin-bottom: 1rem; ${data.status === 'pending' ? 'border-left: 4px solid var(--primary-blue);' : ''}">
                            <h4>${data.fullName}</h4>
                            <p style="color: #666; font-size: 0.9rem;">
                                ${data.email} • ${data.phone || 'No phone'} • ${formatDate(date)}
                            </p>
                            <p><strong>School:</strong> ${data.school || 'Not provided'}</p>
                            <p><strong>Interest:</strong> ${data.interest}</p>
                            <p>${data.message}</p>
                            <div style="margin-top: 0.5rem;">
                                <span style="color: green; font-size: 0.9rem;">✓ Auto-Approved</span>
                            </div>
                        </div>
                    `;
                });
                container.innerHTML = html;
            } catch (error) {
                console.error('Error loading volunteers:', error);
            }
        }
    
        // Mark message as read
        async function markAsRead(collection, docId) {
            try {
                await db.collection(collection).doc(docId).update({
                    status: 'read'
                });
                loadAdminContacts();
            } catch (error) {
                console.error('Error marking as read:', error);
            }
        }
    
        // Update volunteer status
        async function updateVolunteerStatus(docId, status) {
            try {
                await db.collection('volunteers').doc(docId).update({
                    status: status
                });
                loadAdminVolunteers();
            } catch (error) {
                console.error('Error updating status:', error);
            }
        }
    
        // ============================================
        // PROGRAM DETAILS
        // ============================================
        function showProgramDetails(program) {
            const details = {
                'book-drives': {
                    title: 'Book Donation Drives',
                    content: 'tbd. pretend more info about this is available.'
                },
                'school-supplies': {
                    title: 'tbd',
                    content: 'tbd'
                },
                'food-drives': {
                    title: 'tbd',
                    content: 'tbd'
                },
                'art-wellness': {
                    title: 'tbd',
                    content: 'tbd'
                },
                'hospital-support': {
                    title: 'tbd',
                    content: 'tbd'
                },
                'special-events': {
                    title: 'tbd',
                    content: 'tbd'
                },
            };
    
            const program_info = details[program];
            if (program_info) {
                const modalContent = document.getElementById('modalContent');
                modalContent.innerHTML = `
                    <div class="modal-header">
                        <h2>${program_info.title}</h2>
                    </div>
                    <div class="modal-body">
                        <p>${program_info.content}</p>
                        <div style="margin-top: 2rem;">
                            <button class="btn btn-primary" onclick="showPage('involved')">Get Involved</button>
                            <button class="btn btn-secondary" onclick="showPage('contact')">Learn More</button>
                        </div>
                    </div>
                `;
                document.getElementById('postModal').classList.add('active');
            }
        }
    
        // ============================================
        // LOGO MANAGEMENT (Without Storage)
        // ============================================
        document.getElementById('logoContainer')?.addEventListener('click', async function() {
            if (isLoggedIn) {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                input.onchange = async function(e) {
                    const file = e.target.files[0];
                    if (file) {
                        if (file.size > 500000) { // 500KB limit for logo
                            alert('Logo size must be less than 500KB');
                            return;
                        }
                        try {
                            const reader = new FileReader();
                            reader.onload = async function(e) {
                                const logoData = e.target.result;
                                
                                // Save logo as base64 to Firestore
                                await db.collection('admin').doc('settings').set({
                                    logoData: logoData
                                }, { merge: true });
                                
                                // Update UI
                                document.getElementById('logoContainer').innerHTML = 
                                    `<img src="${logoData}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                                    <div class="logo-upload-hint admin-mode" id="logoHint">Click to upload logo</div>`;
                                
                                alert('Logo updated successfully!');
                            };
                            reader.readAsDataURL(file);
                        } catch (error) {
                            console.error('Error uploading logo:', error);
                            alert('Failed to upload logo');
                        }
                    }
                };
                input.click();
            }
        });
    
        // Load logo from Firebase
        async function loadLogo() {
            try {
                const doc = await db.collection('admin').doc('settings').get();
                if (doc.exists && doc.data().logoData) {
                    document.getElementById('logoContainer').innerHTML = 
                        `<img src="${doc.data().logoData}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                        <div class="logo-upload-hint" id="logoHint">Click to upload logo</div>`;
                }
            } catch (error) {
                console.error('Error loading logo:', error);
            }
        }
    
        // ============================================
        // INITIALIZE ON PAGE LOAD
        // ============================================
        window.addEventListener('DOMContentLoaded', async function() {
            // Load all content
            await loadPosts();
            await loadLogo();
            await loadEvents();
            await loadHeroBackground();
            await loadBlurbs();
            
            // Check if user is already logged in
            auth.onAuthStateChanged(async (user) => {
                if (user) {
                    isLoggedIn = true;
                    currentUser = user;
                    
                    if (document.getElementById('adminDashboard') && !document.getElementById('adminDashboard').classList.contains('hidden')) {
                        await loadAdminContacts();
                        await loadAdminVolunteers();
                        await loadAdminEvents();
                    }
                }
            });
        });

                // Emergency background reset function
        function resetBackground() {
            const bgImage = document.getElementById('backgroundImage');
            const bgVideo = document.getElementById('backgroundVideo');
            const directVideo = document.getElementById('directVideo');
            const animatedBg = document.querySelector('.bg-animation');
            
            // Hide all backgrounds
            if (bgImage) bgImage.style.display = 'none';
            if (bgVideo) bgVideo.style.display = 'none';
            if (directVideo) directVideo.style.display = 'none';
            
            // Show default animated background
            if (animatedBg) animatedBg.style.opacity = '0.3';
        }
        
        // Call this on page load to reset if no events
        window.addEventListener('load', function() {
            if (currentEvents.length === 0) {
                resetBackground();
            }
        });
    </script>
</body>
</html>
